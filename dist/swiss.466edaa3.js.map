{"version":3,"sources":["StyleVars.js","swiss.js"],"names":["set_bp_max","min_val","parseInt","bp_min","xs","sm","md","lg","xl","xxl","bp_max","module","exports","swiss","el","console","log","opts","target","is_supported_classlist_action","action","supported_classlist_actions","includes","item_settings","classlist_action","this_class","this_initial_state","target_class","target_initial_state","event_type","resize_reset","run","trigger_event","set_opt","opt_name","attr","hasAttribute","getAttribute","toggle_class_names","element","class_string","class_names","split","forEach","class_name","classList","set_classes","unbind","f","Function","dispatchEvent","CustomEvent","reset_classes","this_classlist_action","target_classlist_action","bind","addEventListener","removeEventListener","bp_active","bp_is_active","window","matchMedia","styleVars","matches","bind_or_unbind_listeners_based_on_bp","store_initial_state","this_classes","contains","target_classes","init","document","getElementById","init_all","items","Array","from","querySelectorAll"],"mappings":"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","file":"swiss.466edaa3.js","sourceRoot":"..","sourcesContent":["// Increment a min breakpoint value by one to get the max\nfunction set_bp_max(min_val) {\n  return `${parseInt(min_val, 10) + 1}px`;\n}\n\nconst bp_min = {\n  xs: \"480px\",\n  sm: \"600px\",\n  md: \"900px\",\n  lg: \"1200px\",\n  \"lg-xl\": \"1450px\",\n  xl: \"1850px\",\n  xxl: \"2250px\",\n};\n\nconst bp_max = {\n  xs: set_bp_max(bp_min.xs),\n  sm: set_bp_max(bp_min.sm),\n  md: set_bp_max(bp_min.md),\n  lg: set_bp_max(bp_min.lg),\n  \"lg-xl\": set_bp_max(bp_min[\"lg-xl\"]),\n  xl: set_bp_max(bp_min.xl),\n  xxl: set_bp_max(bp_min.xxl),\n};\n\nmodule.exports = {\n  bp_min,\n  bp_max,\n};\n","//\n// swiss.js - can:\n//\n// - Add or remove classes on a target or the same element\n// - Dispatch a custom event\n// - Call a function\n//\n//\n// Data attributes ---------------------------------------------------------------------------------\n//\n//   Required:\n//     data-swiss\n//\n//\n//   Event type:\n//     data-swiss-event-type    - string: any valid js event. e.g 'mouseenter', 'click'\n//                                            (Default: 'click')\n//\n//\n//   Class manipulation:\n//     data-swiss-this-class   - string: manipulate class/classes on the same element\n//                                           e.g 'my-active-class', 'o-100 scale-10'\n//     data-swiss-target       - string: the #id of another element to target\n//                                           for class manipulation\n//     data-swiss-target-class - string: class to add to the target el specified\n//                                           by data-swiss-target\n//\n//\n//   Trigger event:\n//     data-swiss-trigger-event - string: Trigger a customEvent on the same element\n//                                            e.g 'image-set/init-lazy-wrapper'\n//\n//\n//   Run a function:\n//     data-swiss-run - string: e.g 'window.dispatchEvent(new CustomEvent('your-event'))'\n//\n//\n//   Optional:\n//     data-swiss-classlist-action - string: toggle|add|remove (default: 'toggle')\n//     data-swiss-bp-min           - string: bind swiss events \"ABOVE\" the 'sm|md...'\n//                                               breakpoint (defined in scss)\n//     data-swiss-bp-max           - string: bind swiss events \"BELOW\" the 'sm|md...'\n//                                               breakpoint (defined in scss)\n//     data-swiss-reset-resize     - bool:   reset all the class toggling that has been done\n//                                               on resize\n\nimport styleVars from \"./StyleVars\";\n\n// swiss\n// -------------------------------------\n\nfunction swiss(el) {\n  console.log(\"swiss\");\n\n  let opts;\n  let target = null;\n\n  function is_supported_classlist_action(action) {\n    const supported_classlist_actions = [\"toggle\", \"add\", \"remove\"];\n    return supported_classlist_actions.includes(action);\n  }\n\n  // item_settings\n  // -------------------------------------\n\n  function item_settings() {\n    opts = {\n      classlist_action: \"toggle\",\n      this_class: null,\n      this_initial_state: null,\n      target_class: null,\n      target: null,\n      target_initial_state: null,\n      event_type: \"click\",\n      resize_reset: false,\n      bp_min: null,\n      bp_max: null,\n      run: null,\n      trigger_event: null,\n    };\n\n    // set_opt\n    // -------------------------------------\n\n    function set_opt(opt_name, attr) {\n      if (el.hasAttribute(attr)) {\n        opts[opt_name] = el.getAttribute(attr);\n      }\n    }\n    set_opt(\"classlist_action\", \"data-swiss-classlist_action\");\n    set_opt(\"this_class\", \"data-swiss-this-class\");\n    set_opt(\"target_class\", \"data-swiss-target-class\");\n    set_opt(\"target\", \"data-swiss-target\");\n    set_opt(\"bp_min\", \"data-swiss-bp-min\");\n    set_opt(\"bp_max\", \"data-swiss-bp-max\");\n    set_opt(\"event_type\", \"data-swiss-event-type\");\n    set_opt(\"reset_resize\", \"data-swiss-reset-resize\");\n    set_opt(\"run\", \"data-swiss-run\");\n    set_opt(\"trigger_event\", \"data-swiss-trigger-event\");\n  }\n\n  // toggle_class_names\n  // -------------------------------------\n\n  function toggle_class_names(element, action, class_string) {\n    const class_names = class_string.split(\" \");\n    class_names.forEach((class_name) => element.classList[action](class_name));\n  }\n\n  // set_classes\n  // -------------------------------------\n\n  function set_classes() {\n    if (opts.this_class) {\n      toggle_class_names(el, opts.classlist_action, opts.this_class);\n    }\n\n    if (opts.target_class && target) {\n      toggle_class_names(target, opts.classlist_action, opts.target_class);\n    }\n\n    if (opts.classlist_action !== \"toggle\") {\n      unbind();\n    }\n\n    if (opts.run) {\n      const f = new Function(opts.run);\n      f();\n    }\n\n    if (opts.trigger_event) {\n      console.log(\"trigger\", opts.trigger_event);\n      el.dispatchEvent(new CustomEvent(opts.trigger_event));\n    }\n  }\n\n  // reset_classes\n  // -------------------------------------\n\n  function reset_classes() {\n    const this_classlist_action = opts.this_initial_state ? \"add\" : \"remove\";\n    const target_classlist_action = opts.target_initial_state\n      ? \"add\"\n      : \"remove\";\n\n    if (opts.this_class) {\n      toggle_class_names(el, this_classlist_action, opts.this_class);\n    }\n\n    if (opts.target_class && target) {\n      toggle_class_names(target, target_classlist_action, opts.target_class);\n    }\n  }\n\n  // bind & unbind\n  // -------------------------------------\n\n  function bind() {\n    el.addEventListener(opts.event_type, set_classes);\n  }\n\n  function unbind() {\n    el.removeEventListener(opts.event_type, set_classes);\n  }\n\n  // bp_acitve\n  // -------------------------------------\n\n  function bp_active() {\n    let bp_is_active = false;\n    if (opts.bp_max) {\n      bp_is_active = window.matchMedia(\n        `(max-width:${styleVars.bp_max[opts.bp_max]})`\n      ).matches;\n    }\n    if (opts.bp_min) {\n      bp_is_active = window.matchMedia(\n        `(min-width:${styleVars.bp_min[opts.bp_min]})`\n      ).matches;\n    }\n    return bp_is_active;\n  }\n\n  // bind_or_unbind_listeners_based_on_bp\n  // -------------------------------------\n\n  function bind_or_unbind_listeners_based_on_bp() {\n    if (bp_active()) {\n      bind();\n    } else {\n      unbind();\n      reset_classes();\n    }\n  }\n\n  // store_initial_state\n  // -------------------------------------\n\n  function store_initial_state() {\n    if (opts.this_class) {\n      // Later, swiss may automatically unload itself (e.g. depending on breakpoint)\n      // - to do this, save whether the classes were initially present on the element\n      //   before swiss ran.\n\n      const this_classes = opts.this_class.split(\" \");\n      opts.this_initial_state = el.classList.contains(this_classes[0]);\n    }\n\n    if (opts.target_class && target) {\n      const target_classes = opts.target_class.split(\" \");\n      opts.target_initial_state = target.classList.contains(target_classes[0]);\n    }\n  }\n\n  // init\n  // -------------------------------------\n\n  function init() {\n    item_settings(el);\n\n    console.log(opts);\n\n    if (!is_supported_classlist_action(opts.classlist_action)) {\n      return;\n    }\n\n    if (opts.target) {\n      target = document.getElementById(opts.target);\n    }\n\n    store_initial_state();\n\n    if (opts.resize_reset) {\n      window.addEventListener(\"resize\", reset_classes);\n    }\n\n    if (opts.bp_min || opts.bp_max) {\n      window.addEventListener(\"resize\", bind_or_unbind_listeners_based_on_bp);\n      bind_or_unbind_listeners_based_on_bp();\n    } else {\n      bind();\n    }\n  }\n  init();\n}\n\n// init_all\n// ------------------------------------\n\nfunction init_all() {\n  console.log(\"init_all\");\n  const items = Array.from(document.querySelectorAll(\"[data-swiss]\"));\n  console.log(items);\n  items.forEach(swiss);\n}\ninit_all();\n\nconsole.log(\"running\");\n"]}