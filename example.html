<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Swiss.js - Testing Playground</title>
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Exo:wght@200;400;600&display=swap" rel="stylesheet">

  <link rel="preload" as="script" href="https://cdn.master.co/css-runtime@rc">
  <link rel="preload" as="style" href="https://cdn.master.co/normal.css">
  <link rel="stylesheet" href="https://cdn.master.co/normal.css">
  <script>
    window.masterCSSConfig = {
      variables: {
        "surface-a": '#0e141f',
        accent: '#e31d65',
        'accent-muted': "#63112f",
      },
      utilities: {
        "box": {
          "display": "inline-flex",
          "align-items": "center",
          "justify-content": "center",
          "user-select": "none",
          "border-radius": "30px",
          "border": "1px solid rgba(255, 255, 255, 0.2)",
          "box-shadow": "0 1rem 20rem -0.5rem rgba(0, 0, 0, 0.85)",
        },
        "btn": {
          "cursor": "pointer",
          "border": "1px solid #e31d65",
          "padding": "0.5em 1em",
          "border-radius": "5px",
          "font-size": "11px"
        }
      }
    }
  </script>
  <script src="https://cdn.master.co/css-runtime@rc"></script>

  <style>
    body {
      font-family: 'Exo', sans-serif;
      color: white;
    }

    .debug {
      border: 1px solid red;
    }
  </style>
</head>

<body class="min-w:100vw min-h:100vh bg:surface-a">
  <div class="px:4x px:7x@md">
    <div class="mx:auto max-w:1200px py:16x">

      <!-- HEADER -->
      <header
        class="t:center mb:4x flex flex-direction:column flex-direction:row-reverse@md justify-content:between align-items:center gap:6x gap:10x@md">

        <h1 class="font-weight:600 letter-spacing:-0.025em line-height:1 flex f:clamp(45px,4vw,70px)"
          style="text-shadow: 7px 14px 30px rgba(0,0,0,0.15);">
          <span class="cursor:pointer user-select:none"
            data-swiss="toggle[this](color:accent!) toggle[#js](color:accent!)">Swiss</span>
          <span id="js" class="color:accent!">.js</span>
        </h1>

        <div class="flex:1 t:center t:left@md">
          <p class="inline-block opacity:0.85 max-w:32em f:14px f:16px@lg line-height:1.4 t:center t:left@md">
            A simple javascript utility for declaratively adding, removing
            and toggling classes + more via data-attributes. Use it for fast prototyping and eliminating scattered,
            repetitive code in non-react/vue etc projects.
          </p>
        </div>
      </header>

      <div class="mt:16x r:40px p:10x bg:rgba(255,255,255,0.05)">
        <!-- CLASS TOGGLE EXAMPLES -->
        <section class="flex gap:4x">
          <!-- Toggle class on itself -->
          <div>
            <p class="f:12px ml:1x mb:2x">Toggle class on self</p>
            <div class="box cursor:pointer bg:accent! p:20x"
              data-swiss="toggle[this](bg:accent! border-color:rgba(255,255,255,0.8)!)">
              <div>Click</div>
            </div>
          </div>

          <!-- Toggle class on another element -->
          <div class="flex:1">
            <p class="f:12px ml:1x mb:2x">Toggle class on this & another elements</p>
            <div class="box test-selector-class w:full px:20x py:10x">
              <div class="box mr:4x cursor:pointer p:20x"
                data-swiss="toggle[#target-1](bg:accent!) toggle[this](border-color:rgba(255,255,255,0.8)!) toggle[.test-selector-class](b:1px|solid|accent)"
                data-swiss-when="(min-width: 600px)" data-swiss-reset-when-disabled>
                <div>Click</div>
              </div>
              <div id="target-1" class="box bg:accent! p:20x">
                <div style="opacity: 0;">To Change</div>
              </div>
            </div>
          </div>
        </section>

        <section class="flex gap:4x mt:8x">
          <!-- mouseenter example -->
          <div class="flex:1">
            <p class="f:12px ml:1x mb:2x">Hover to toggle class</p>
            <div class="box w:full cursor:pointer px:20x py:10x" data-swiss="toggle[this](bg:accent)"
              data-swiss-on="mouseenter mouseleave">
              Hover
            </div>
          </div>

          <!-- TEST: data-swiss-when -->
          <div class="flex:1">
            <p class="f:12px mb:2x">Works only above 600px</p>
            <div class="box w:full cursor:pointer px:20x py:10x bg:accent!" data-swiss="toggle[this](bg:accent!)"
              data-swiss-when="(min-width: 600px)">
              Click
            </div>
          </div>

          <!-- TEST: data-swiss-reset-when-disabled -->
          <div class="flex:1">
            <p class="f:12px mb:2x">Works only above 600px - resets when disabled</p>
            <div class="box w:full cursor:pointer px:20x py:10x bg:accent!" data-swiss="toggle[this](bg:accent!)"
              data-swiss-when="(min-width: 600px)" data-swiss-reset-when-disabled>
              Click
            </div>
          </div>

          <!-- TEST: data-swiss-reset-on-resize -->
          <div class="flex:1">
            <p class="f:12px mb:2x">Reset state on resize</p>
            <div class="box w:full cursor:pointer px:20x py:10x bg:accent!" data-swiss="toggle[this](bg:accent!)"
              data-swiss-when="(min-width: 600px)" data-swiss-reset-on-resize>
              Click
            </div>
          </div>
        </section>

        <section class="my:8x">
          <p class="f:12px mb:2x">And more!</p>
          <div class="flex gap:2x">
            <div class="rel">
              <button class="btn" data-swiss="toggle[#my-menu](opacity:0 menu-is-active)">Menu</button>
              <div id="my-menu"
                class="abs w:200px top:40px opacity:0 f:12px bg:surface-a! r:5px py:1em px:1.5em b:1px|solid|rgba(255,255,255,0.2)! transition:opacity|0.1s|ease-in-out"
                data-swiss="toggle[#my-menu](opacity:0 menu-is-active)" data-swiss-on="clickOutside"
                data-swiss-if="#my-menu.menu-is-active">
                <p>Some kind of menu...</p>
              </div>
            </div>

            <!-- OPEN MODAL BUTTON -->
            <button class="btn" data-swiss="remove[#modal](opacity:0 pointer-events:none) add[#modal](modal-is-active)">
              Open Modal
            </button>

            <!-- TRIGGER AN ALERT -->
            <button class="btn" data-swiss="run(alert('Hello from Swiss.js!'))">
              Trigger alert
            </button>

            <!-- DISPATCH A CUSTOM EVENT -->
            <button class="btn" data-swiss="event(myCustomEvent)" id="event-listener-example">
              Dispatch custom event
            </button>
          </div>
        </section>


        <section>
          <div class="box block! p:10x">

            <!-- TARGET ELEMENT -->
            <div id="target" class="box p:10x mb:10x w:full align-items:center justify-content:center"
              data-state="closed" data-flag style="transition:all 0.3s ease;">
              <div class="t:center">
                Target Element
                <br>
                <p class="f:10px opacity:0.5 mt:2x">(watch attributes change in DevTools)</p>
              </div>
            </div>

            <div class="flex gap:2x">
              <!-- ADD ATTRIBUTE -->
              <button class="btn" data-swiss="add[#target]({data-open:true})">
                Add attribute: data-open="true"
              </button>
              <!-- REMOVE ATTRIBUTE -->
              <button class="btn" data-swiss="remove[#target]({data-open})">
                Remove attribute: data-open
              </button>
              <!-- TOGGLE PRESENCE -->
              <button class="btn" data-swiss="toggle[#target]({data-flag})">
                Toggle presence: data-flag
              </button>
              <!-- TOGGLE VALUE (open|closed) -->
              <button class="btn" data-swiss="toggle[#target]({data-state:open|closed})">
                Toggle data-state="open|closed"
              </button>
              <!-- MIX CLASS + ATTRIBUTE -->
              <button class="btn" data-swiss="toggle[#target](bg:accent-muted {data-mixed:true})">
                Toggle class + add/remove attribute
              </button>
            </div>

          </div>
        </section>


        <section class="mt:8x mb:800px">
          <div class="grid grid-columns:3 gap:5x">
            <div>
              <p class="f:12px mb:2x">Enter</p>
              <div class="box w:full cursor:pointer px:20x py:10x transition:background-color|0.3s|ease-in-out"
                data-swiss="add[this](bg:accent!)" data-swiss-on="enter">
                Enter
              </div>
            </div>
            <div>
              <p class="f:12px mb:2x">Exit</p>
              <div
                class="box w:full cursor:pointer px:20x py:10x bg:accent! transition:background-color|0.3s|ease-in-out"
                data-swiss="remove[this](bg:accent!)" data-swiss-on="exit">
                Exit
              </div>
            </div>
            <div>
              <p class="f:12px mb:2x">Enter + Exit</p>
              <div class="box rel w:full cursor:pointer px:20x py:10x transition:all|0.3s|ease-in-out"
                data-swiss="toggle[this](bg:accent)" data-swiss-on="enter exit">
                Exit
              </div>
            </div>
          </div>
        </section>


      </div>
    </div>
  </div>

  <div id="modal"
    class="opacity:0 pointer-events:none fixed inset:0 bg:rgba(0,0,0,0.5) transition:opacity|0.1s|ease-in-out flex align-items:center justify-content:center">
    <div class="box p:20x bg:surface-a! rel"
      data-swiss="add[#modal](opacity:0 pointer-events:none) remove[#modal](modal-is-active)"
      data-swiss-on="clickOutside" data-swiss-if="#modal.modal-is-active">
      <div class="flex flex-direction:column gap:1em">
        <p class="f:12px">Some kind of modal...</p>

        <button class="cursor:pointer b:1px|solid|accent! px:1em py:0.5em r:5px f:11px"
          data-swiss="add[#modal](opacity:0 pointer-events:none) remove[#modal](modal-is-active)">
          Close Modal
        </button>
      </div>
    </div>
  </div>

  <script src="dist/swiss.umd.js"></script>

  <script>
    const box = document.getElementById('event-listener-example');
    box.addEventListener('myCustomEvent', () => alert('”myCustomEvent” triggered by Swiss.js!'));
  </script>
</body>

</html>