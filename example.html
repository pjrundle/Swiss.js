<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Swiss.js - Testing Playground</title>
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Exo:wght@200;400;600&display=swap" rel="stylesheet">

  <link rel="preload" as="script" href="https://cdn.master.co/css-runtime@rc">
  <link rel="preload" as="style" href="https://cdn.master.co/normal.css">
  <link rel="stylesheet" href="https://cdn.master.co/normal.css">

  <link href="prism.css" rel="stylesheet">
  <script src="prism.js"></script>

  <script>
    window.masterCSSConfig = {
      variables: {
        "surface-a": '#121b2c',
        accent: '#e31d65',
        'accent-muted': "#63112f",
      },
      utilities: {
        "btn": {
          "cursor": "pointer",
          "border": "1px solid #e31d65",
          "padding": "0.5em 1em",
          "border-radius": "5px",
          "font-size": "11px"
        },
        "copy": {
          "font-size": "12px",
          "opacity": "0.75",
        }
      },
      components: {
        "example-section": {
          "": "r:20px r:40px@md b:1px|solid|rgba(255,255,255,0.1) overflow:hidden shadow:0px|23px|25px|6px|rgba(0,0,0,0.25)",
          "heading": 'mb:5x f:16px f:18px@md',
        },
        "example": {
          "": 'grid grid-cols:12 bt:1px|solid|rgba(255,255,255,0.1)',
          "heading": 'f:12px f:13px@md',
          "col-1": "grid-col-span:12 grid-col-span:5@md p:4x p:8x@md br:1px|solid|rgba(255,255,255,0.1)@md bg:rgba(0,0,0,0.1)",
          "col-2": "grid-col-span:12 grid-col-span:7@md p:5x p:8x@md flex justify-content:center bg:rgba(0,0,0,0.1)",
        },
        "box": {
          "": "inline-flex align-items:center justify-content:center user-select:none r:30px b:1px|solid|rgba(255,255,255,0.2) px:20x py:10x",
        }
      }
    }
  </script>
  <script src="https://cdn.master.co/css-runtime@rc"></script>

  <style>
    body {
      font-family: 'Exo', sans-serif;
      color: white;
    }

    .debug {
      border: 1px solid red;
    }

    .box-interactive {
      box-shadow:
        0px 8px 0px 0px rgba(255, 255, 255, 0),
        /* button thickness */
        0px 0 20px rgba(255, 255, 255, .1) inset,
        /* inner glow */
        2px 30px 0px rgba(255, 255, 255, .1) inset,
        /* subtle reflection */
        5px 15px 30px -10px rgba(0, 0, 0, 0.8);
      /* dark shadow underneath */
    }

    :not(pre)>code[class*=language-],
    pre[class*=language-] {
      background: #0c1320;
    }

    .language-markup {
      margin-top: 15px !important;
      font-size: 13px !important;
      border-radius: 5px !important;
    }

    .token.constant,
    .token.deleted,
    .token.property,
    .token.symbol,
    .token.tag {
      color: #3e99ff;
    }

    .token.attr-name,
    .token.builtin,
    .token.char,
    .token.inserted,
    .token.selector,
    .token.string {
      color: #ff518f;
    }

    .token.atrule,
    .token.attr-value,
    .token.class-name,
    .token.function {
      color: #ffa546;
    }
  </style>
</head>

<body class="min-w:100vw min-h:100vh bg:surface-a">
  <div class="px:4x px:7x@md">
    <div class="mx:auto max-w:1200px pt:16x pb:32x">

      <!-- HEADER -->
      <header class="t:center mb:4x">

        <div
          class="flex flex-direction:column flex-direction:row@md justify-content:space-between align-items:center gap:6x gap:10x@md">
          <h1 class="font-weight:600 letter-spacing:-0.025em line-height:1 flex f:clamp(45px,4vw,60px)"
            style="text-shadow: 7px 14px 30px rgba(0,0,0,0.15);">
            <span class="cursor:pointer user-select:none"
              data-swiss="toggle[this](color:accent) toggle[#js](color:accent)">Swiss</span>
            <span id="js" class="color:accent">.js</span>
          </h1>
          <div class="flex:1 t:center t:right@md">
            <p class="inline-block opacity:0.85 max-w:32em f:14px f:16px@lg line-height:1.4 t:center t:left@md">
              A simple javascript utility for declaratively adding, removing
              and toggling classes + more via data-attributes. Use it for fast prototyping and eliminating scattered,
              repetitive code in non-react/vue etc projects.
            </p>
          </div>
        </div>

        <!-- <div class="mt:10x py:4x by:1px|solid|rgba(255,255,255,0.1)"></div> -->
      </header>


      <div class="mt:20x flex flex-direction:column gap:20x">
        <section>
          <h2 class="example-section-heading">Class Management</h2>
          <div class="example-section">
            <section class="example bt:none">
              <div class="example-col-1">
                <h2 class="example-heading">Toggle class on self</h2>
                <script type="text/plain" class="language-markup f:13px!">
                  <div class="bg:accent"
                       data-swiss="toggle[this](bg:accent border-color:rgba(255,255,255,0.8)!)">
                    Click
                  </div>
                </script>
              </div>
              <div class="example-col-2">
                <div class="box box-interactive cursor:pointer bg:accent"
                  data-swiss="toggle[this](bg:accent border-color:rgba(255,255,255,0.8)!)">
                  Click
                </div>
              </div>
            </section>

            <section class="example">
              <div class="example-col-1">
                <h2 class="example-heading">Hover to toggle class on self</h2>
                <script type="text/plain" class="language-markup f:13px!">
                  <div data-swiss="toggle[this](bg:accent)"
                       data-swiss-on="mouseenter mouseleave">
                    Hover
                  </div>
                </script>
              </div>
              <div class="example-col-2">
                <div class="box box-interactive cursor:pointer" data-swiss="toggle[this](bg:accent)"
                  data-swiss-on="mouseenter mouseleave">
                  Hover
                </div>
              </div>
            </section>

            <section class="example">
              <div class="example-col-1">
                <h2 class="example-heading">Toggle class on self & another element</h2>
              </div>
              <div class="example-col-2">
                <div class="flex gap:4x">
                  <div class="box box-interactive cursor:pointer"
                    data-swiss="toggle[#target-1](bg:accent) toggle[this](border-color:rgba(255,255,255,0.8)!)">
                    Click
                  </div>
                  <div id="target-1" class="box box-interactive bg:accent">
                    <span style="opacity: 0;">To Change</span>
                  </div>
                </div>
              </div>
            </section>

            <section class="example">
              <div class="example-col-1">
                <h2 class="example-heading">Hover to toggle class on self & another element</h2>
              </div>
              <div class="example-col-2">
                <div class="flex gap:4x">
                  <div class="box box-interactive cursor:pointer"
                    data-swiss="toggle[#target-2](bg:accent) toggle[this](border-color:rgba(255,255,255,0.8)!)"
                    data-swiss-on="mouseenter mouseleave">
                    Hover
                  </div>
                  <div id="target-2" class="box box-interactive bg:accent">
                    <span style="opacity: 0;">To Change</span>
                  </div>
                </div>
              </div>
            </section>
          </div>
        </section>


        <section>
          <h2 class="example-section-heading">Conditional Behavior</h2>
          <div class="example-section">
            <section class="example bt:none">
              <div class="example-col-1">
                <h2 class="example-heading">Reset state on resize</h2>
              </div>
              <div class="example-col-2">
                <div class="box box-interactive cursor:pointer bg:accent" data-swiss="toggle[this](bg:accent)"
                  data-swiss-reset-on-resize>
                  Click
                </div>
              </div>
            </section>

            <section class="example">
              <div class="example-col-1">
                <h2 class="example-heading">Works only below 600px width viewport</h2>
              </div>
              <div class="example-col-2">
                <div class="box box-interactive cursor:pointer bg:accent" data-swiss="toggle[this](bg:accent)"
                  data-swiss-when="(max-width: 600px)">
                  Click
                </div>
              </div>
            </section>

            <section class="example">
              <div class="example-col-1">
                <h2 class="example-heading">Works only above 600px width viewport + reset when disabled</h2>
              </div>
              <div class="example-col-2">
                <div class="box box-interactive cursor:pointer bg:accent" data-swiss="toggle[this](bg:accent)"
                  data-swiss-when="(min-width: 600px)" data-swiss-reset-when-disabled>
                  Click
                </div>
              </div>
            </section>
          </div>
        </section>


        <section>
          <h2 class="example-section-heading">Events + Run Inline JS</h2>
          <div class="example-section">
            <section class="example bt:none">
              <div class="example-col-1">
                <h2 class="example-heading">Dispatch a custom event</h2>
              </div>
              <div class="example-col-2">
                <div class="rel flex align-items:center justify-content:center">
                  <!-- DISPATCH A CUSTOM EVENT -->
                  <button class="btn" data-swiss="event(myCustomEvent)" id="event-listener-example">
                    Dispatch custom event
                  </button>
                </div>
              </div>
            </section>

            <section class="example">
              <div class="example-col-1">
                <h2 class="example-heading">Trigger an alert</h2>
              </div>
              <div class="example-col-2">
                <div class="flex align-items:center justify-content:center">
                  <!-- TRIGGER AN ALERT -->
                  <button class="btn" data-swiss="run(alert('Hello from Swiss.js!'))">
                    Trigger alert
                  </button>
                </div>
              </div>
          </div>
        </section>


        <section>
          <h2 class="example-section-heading">UI Examples</h2>
          <div class="example-section">
            <section class="example bt:none">
              <div class="example-col-1">
                <h2 class="example-heading">Menu</h2>
              </div>
              <div class="example-col-2">
                <div class="rel flex align-items:center justify-content:center">
                  <button class="btn" data-swiss="toggle[#my-menu](opacity:0 menu-is-active)">Menu</button>
                  <div id="my-menu"
                    class="abs w:200px top:40px opacity:0 f:12px bg:surface-a! r:5px py:1em px:1.5em b:1px|solid|rgba(255,255,255,0.2)! transition:opacity|0.1s|ease-in-out"
                    data-swiss="toggle[#my-menu](opacity:0 menu-is-active)" data-swiss-on="clickOutside"
                    data-swiss-if="#my-menu.menu-is-active">
                    <p>Some kind of menu...</p>
                  </div>
                </div>
              </div>
            </section>

            <section class="example">
              <div class="example-col-1">
                <h2 class="example-heading">Modal</h2>
              </div>
              <div class="example-col-2">
                <div class="flex align-items:center justify-content:center">
                  <button class="btn"
                    data-swiss="remove[#modal](opacity:0 pointer-events:none) add[#modal](modal-is-active)">
                    Open Modal
                  </button>
                </div>
              </div>
            </section>
          </div>
        </section>


        <section>
          <h2 class="example-section-heading">Data Attributes</h2>
          <div class="example-section">
            <section class="example bt:none">
              <div class="example-col-1">
                <h2 class="example-heading">Menu</h2>
                <div class="flex flex-direction:column gap:1.5x mt:4x">
                  <!-- ADD ATTRIBUTE -->
                  <button class="btn" data-swiss="add[#target]({data-open:true})">
                    Add attribute: data-open="true"
                  </button>
                  <!-- REMOVE ATTRIBUTE -->
                  <button class="btn" data-swiss="remove[#target]({data-open})">
                    Remove attribute: data-open
                  </button>
                  <!-- TOGGLE PRESENCE -->
                  <button class="btn" data-swiss="toggle[#target]({data-flag})">
                    Toggle presence: data-flag
                  </button>
                  <!-- TOGGLE VALUE (open|closed) -->
                  <button class="btn" data-swiss="toggle[#target]({data-state:open|closed})">
                    Toggle data-state="open|closed"
                  </button>
                  <!-- MIX CLASS + ATTRIBUTE -->
                  <button class="btn" data-swiss="toggle[#target](bg:accent-muted {data-mixed:true})">
                    Toggle class + add/remove attribute
                  </button>
                </div>
              </div>
              <div class="example-col-2">
                <!-- TARGET ELEMENT -->
                <div id="target" class="box box-interactive p:10x w:full align-items:center justify-content:center"
                  data-state="closed" data-flag style="transition:all 0.3s ease;">
                  <div class="t:center">
                    Target Element
                    <br>
                    <p class="f:10px opacity:0.5 mt:2x">(watch attributes change in DevTools)</p>
                  </div>
                </div>
              </div>
            </section>
          </div>
        </section>


        <section>
          <h2 class="example-section-heading">Enter/Exit</h2>
          <div class="example-section">
            <section class="example bt:none">
              <div class="example-col-1">
                <h2 class="example-heading">Enter</h2>
              </div>
              <div class="example-col-2">
                <div class="box box-interactive w:full transition:background-color|0.3s|ease-in-out"
                  data-swiss="add[this](bg:accent)" data-swiss-on="enter"></div>
              </div>
            </section>

            <section class="example">
              <div class="example-col-1">
                <h2 class="example-heading">Exit</h2>
              </div>
              <div class="example-col-2">
                <div class="box box-interactive w:full bg:accent transition:background-color|0.3s|ease-in-out"
                  data-swiss="remove[this](bg:accent)" data-swiss-on="exit"></div>
              </div>
            </section>

            <section class="example">
              <div class="example-col-1">
                <h2 class="example-heading">Enter + Exit</h2>
              </div>
              <div class="example-col-2">
                <div class="box box-interactive rel w:full transition:all|0.3s|ease-in-out"
                  data-swiss="toggle[this](bg:accent)" data-swiss-on="enter exit"></div>
              </div>
            </section>

            <section class="example">
              <div class="example-col-1">
                <h2 class="example-heading">Enter + Exit (transform)</h2>
              </div>
              <div class="example-col-2">
                <div data-swiss="toggle[#enter-exit-transform](bg:accent left:0px! opacity:1!)"
                  data-swiss-on="enter exit">
                  <div id="enter-exit-transform"
                    class="box box-interactive left:-300px opacity:0 rel w:full transition:all|0.3s|ease-in-out">
                  </div>
                </div>
              </div>
            </section>
          </div>
        </section>
      </div>
      </section>
    </div>
  </div>
  </div>

  <div id="modal"
    class="opacity:0 pointer-events:none fixed inset:0 bg:rgba(0,0,0,0.5) transition:opacity|0.1s|ease-in-out flex align-items:center justify-content:center">
    <div class="box p:20x bg:surface-a! rel"
      data-swiss="add[#modal](opacity:0 pointer-events:none) remove[#modal](modal-is-active)"
      data-swiss-on="clickOutside" data-swiss-if="#modal.modal-is-active">
      <div class="flex flex-direction:column gap:1em">
        <p class="f:12px">Some kind of modal...</p>

        <button class="cursor:pointer b:1px|solid|accent px:1em py:0.5em r:5px f:11px"
          data-swiss="add[#modal](opacity:0 pointer-events:none) remove[#modal](modal-is-active)">
          Close Modal
        </button>
      </div>
    </div>
  </div>

  <script src="dist/swiss.umd.js"></script>

  <script>
    const box = document.getElementById('event-listener-example');
    box.addEventListener('myCustomEvent', () => alert('”myCustomEvent” triggered by Swiss.js!'));
  </script>
</body>

</html>